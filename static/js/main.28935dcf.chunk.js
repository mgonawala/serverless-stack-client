(this["webpackJsonpnotes-app-client"]=this["webpackJsonpnotes-app-client"]||[]).push([[0],{164:function(e,a,t){e.exports=t(619)},169:function(e,a,t){},171:function(e,a,t){},172:function(e,a,t){},173:function(e,a,t){},174:function(e,a,t){},568:function(e,a,t){},603:function(e,a,t){},604:function(e,a,t){},619:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(51),o=t.n(c),s=t(36),l=(t(169),t(19)),i=t.n(l),u=t(32),p=t(21),m=t(626),d=t(624),f=t(625),E=(t(171),t(38));t(172);function g(){return r.a.createElement("div",{className:"Home"},r.a.createElement("div",{className:"lander"},r.a.createElement("h1",null,"Scratch"),r.a.createElement("p",null,"A simple note taking app")))}t(173);function b(){return r.a.createElement("div",{className:"NotFound"},r.a.createElement("h3",null,"Sorry, page not found!"))}var h=t(621),v=t(622),O=t(627),w=(t(174),t(31)),I=t(65),y=t(620),S=t(157);t(568);function j(e){var a=e.isLoading,t=e.className,n=void 0===t?"":t,c=e.disabled,o=void 0!==c&&c,s=Object(I.a)(e,["isLoading","className","disabled"]);return r.a.createElement(y.a,Object.assign({className:"LoaderButton ".concat(n),disabled:o||a},s),a&&r.a.createElement(S.a,{glyph:"refresh",className:"spinning"}),s.children)}var P=t(64),k=t(158);function C(e){var a=Object(n.useState)(e),t=Object(p.a)(a,2),r=t[0],c=t[1];return[r,function(e){c(Object(k.a)({},r,Object(P.a)({},e.target.id,e.target.value)))}]}function x(e){var a=C({email:"",password:""}),t=Object(p.a)(a,2),c=t[0],o=t[1],s=Object(n.useState)(!1),l=Object(p.a)(s,2),m=l[0],d=l[1];function f(){return(f=Object(u.a)(i.a.mark((function a(t){var n;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),d(!0),a.prev=2,a.next=5,w.a.signIn(c.email,c.password);case 5:n=a.sent,console.log(n),e.userHasAuthenticated(!0),alert("Logged in"),e.history.push("/"),a.next=16;break;case 12:a.prev=12,a.t0=a.catch(2),alert(a.t0.message),d(!1);case 16:case"end":return a.stop()}}),a,null,[[2,12]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Login"},r.a.createElement("form",{onSubmit:function(e){return f.apply(this,arguments)}},r.a.createElement(h.a,{controlId:"email",bsSize:"large"},r.a.createElement(v.a,null,"Email"),r.a.createElement(O.a,{autoFocus:!0,type:"email",value:c.email,onChange:o})),r.a.createElement(h.a,{controlId:"password",bsSize:"large"},r.a.createElement(v.a,null,"Password"),r.a.createElement(O.a,{value:c.password,onChange:o,type:"password"})),r.a.createElement(j,{block:!0,type:"submit",bsSize:"large",isLoading:m,disabled:!(c.email.length>0&&c.password.length>0)},"Login")))}function N(e){var a=e.component,t=e.appProps,n=Object(I.a)(e,["component","appProps"]);return r.a.createElement(E.d,Object.assign({},n,{render:function(e){return r.a.createElement(a,Object.assign({},e,t))}}))}var L=t(623);t(603);function _(e){var a=C({email:"",password:"",confirmPassword:"",confirmationCode:""}),t=Object(p.a)(a,2),c=t[0],o=t[1],s=Object(n.useState)(null),l=Object(p.a)(s,2),m=l[0],d=l[1],f=Object(n.useState)(!1),E=Object(p.a)(f,2),g=E[0],b=E[1];function I(e){return y.apply(this,arguments)}function y(){return(y=Object(u.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a.preventDefault(),b(!0),e.prev=2,e.next=5,w.a.signUp({username:c.email,password:c.password});case 5:t=e.sent,b(!1),d(t),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(2),alert(e.t0.message),b(!1);case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))).apply(this,arguments)}function S(e){return P.apply(this,arguments)}function P(){return(P=Object(u.a)(i.a.mark((function a(t){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t.preventDefault(),b(!0),a.prev=2,a.next=5,w.a.confirmSignUp(c.email,c.confirmationCode);case 5:return a.next=7,w.a.signIn(c.email,c.password);case 7:e.userHasAuthenticated(!0),e.history.push("/"),a.next=15;break;case 11:a.prev=11,a.t0=a.catch(2),alert(a.t0.message),b(!1);case 15:case"end":return a.stop()}}),a,null,[[2,11]])})))).apply(this,arguments)}return r.a.createElement("div",{className:"Signup"},null===m?r.a.createElement("form",{onSubmit:I},r.a.createElement(h.a,{controlId:"email",bsSize:"large"},r.a.createElement(v.a,null,"Email"),r.a.createElement(O.a,{autoFocus:!0,type:"email",value:c.email,onChange:o})),r.a.createElement(h.a,{controlId:"password",bsSize:"large"},r.a.createElement(v.a,null,"Password"),r.a.createElement(O.a,{type:"password",value:c.password,onChange:o})),r.a.createElement(h.a,{controlId:"confirmPassword",bsSize:"large"},r.a.createElement(v.a,null,"Confirm Password"),r.a.createElement(O.a,{type:"password",onChange:o,value:c.confirmPassword})),r.a.createElement(j,{block:!0,type:"submit",bsSize:"large",isLoading:g,disabled:!(c.email.length>0&&c.password.length>0&&c.password===c.confirmPassword)},"Signup")):r.a.createElement("form",{onSubmit:S},r.a.createElement(h.a,{controlId:"confirmationCode",bsSize:"large"},r.a.createElement(v.a,null,"Confirmation Code"),r.a.createElement(O.a,{autoFocus:!0,type:"tel",onChange:o,value:c.confirmationCode}),r.a.createElement(L.a,null,"Please check your email for the code.")),r.a.createElement(j,{block:!0,type:"submit",bsSize:"large",isLoading:g,disabled:!(c.confirmationCode.length>0)},"Verify")))}var D={REGION:"us-east-1",BUCKET:"m-notes-app-uploads"},R={REGION:"us-east-1",URL:"https://bc6abg8g1f.execute-api.us-east-1.amazonaws.com/dev"},z={REGION:"us-east-1",USER_POOL_ID:"us-east-1_5Mas53Lxe",APP_CLIENT_ID:"2co2e8f9u54h7939iamufan9d6",IDENTITY_POOL_ID:"us-east-1:7fbf052e-dac5-461a-961c-c8edfe7db6e0"},A=5e6;t(604);function T(e){var a=Object(n.useRef)(null),t=Object(n.useState)(""),c=Object(p.a)(t,2),o=c[0],s=c[1],l=Object(n.useState)(!1),m=Object(p.a)(l,2),d=m[0],f=m[1];function E(){return(E=Object(u.a)(i.a.mark((function e(t){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),!(a.current&&a.current.size>A)){e.next=4;break}return alert("Please pick a file smaller than ".concat(A/1e6," MB.")),e.abrupt("return");case 4:f(!0);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return r.a.createElement("div",{className:"NewNote"},r.a.createElement("form",{onSubmit:function(e){return E.apply(this,arguments)}},r.a.createElement(h.a,{controlId:"content"},r.a.createElement(O.a,{value:o,componentClass:"textarea",onChange:function(e){return s(e.target.value)}})),r.a.createElement(h.a,{controlId:"file"},r.a.createElement(v.a,null,"Attachment"),r.a.createElement(O.a,{onChange:function(e){a.current=e.target.files[0]},type:"file"})),r.a.createElement(j,{block:!0,type:"submit",bsSize:"large",bsStyle:"primary",isLoading:d,disabled:!(o.length>0)},"Create")))}function U(e){var a=e.appProps;return r.a.createElement(E.g,null,r.a.createElement(N,{path:"/",exact:!0,component:g,appProps:a}),r.a.createElement(N,{path:"/login",exact:!0,component:x,appProps:a}),r.a.createElement(N,{path:"/signup",exact:!0,component:_,appProps:a}),r.a.createElement(N,{path:"/notes/new",exact:!0,component:T,appProps:a}),r.a.createElement(N,{component:b,appProps:a}))}var B=t(93);var G=Object(E.k)((function(e){var a=Object(n.useState)(!0),t=Object(p.a)(a,2),c=t[0],o=t[1],l=Object(n.useState)(!1),E=Object(p.a)(l,2),g=E[0],b=E[1];function h(){return(h=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w.a.currentSession();case 3:b(!0),e.next=9;break;case 6:e.prev=6,e.t0=e.catch(0),console.log(e.t0);case 9:o(!1);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})))).apply(this,arguments)}function v(){return(v=Object(u.a)(i.a.mark((function a(){return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,w.a.signOut();case 2:b(!1),e.history.push("/login");case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(n.useEffect)((function(){!function(){h.apply(this,arguments)}()}),[]),!c&&r.a.createElement("div",{className:"App container"},r.a.createElement(m.a,{fluid:!0,collapseOnSelect:!0},r.a.createElement(m.a.Header,null,r.a.createElement(m.a.Brand,null,r.a.createElement(s.Link,{to:"/"},"Scratch"))),r.a.createElement(m.a.Collapse,null,r.a.createElement(d.a,{pullRight:!0},g?r.a.createElement(f.a,{onClick:function(){return v.apply(this,arguments)}},"Logout"):r.a.createElement(r.a.Fragment,null,r.a.createElement(B.LinkContainer,{to:"/signup"},r.a.createElement(f.a,null,"Signup")),r.a.createElement(B.LinkContainer,{to:"/login"},r.a.createElement(f.a,null,"login")))))),r.a.createElement(U,{appProps:{isAuthenticated:g,userHasAuthenticated:b}}))}));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));w.b.configure({Auth:{mandatorySignIn:!0,region:z.REGION,userPoolId:z.USER_POOL_ID,identityPoolId:z.IDENTITY_POOL_ID,userPoolWebClientId:z.APP_CLIENT_ID},Storage:{region:D.REGION,bucket:D.BUCKET,identityPoolId:z.IDENTITY_POOL_ID},API:{endpoints:[{name:"notes",endpoint:R.URL,region:R.REGION}]}}),o.a.render(r.a.createElement(s.HashRouter,null,r.a.createElement(G,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},72:function(e,a){}},[[164,1,2]]]);
//# sourceMappingURL=main.28935dcf.chunk.js.map